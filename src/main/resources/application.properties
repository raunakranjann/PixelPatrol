spring.application.name=PixelPatrol


# ===============================
# 1. NETWORK CONFIGURATION
# ===============================
# Use port 0 to let the OS pick a random free port (e.g., 45123)
server.port=45678

# ===============================
# 2. DATABASE CONFIGURATION (SQLite)
# ===============================
# We use ${user.home} so this works on Linux, Mac, and Windows automatically.
# The DB will be created at: /home/username/.pixelpatrol/data.db
spring.datasource.url=jdbc:sqlite:${user.home}/.pixelpatrol/data.db
spring.datasource.driver-class-name=org.sqlite.JDBC

# This is critical for SQLite in Spring Boot 3.x+
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect

# Create tables automatically if they don't exist
spring.jpa.hibernate.ddl-auto=update

# Show SQL queries in the terminal (Helpful for debugging)
spring.jpa.show-sql=true

# ===============================
# 3. THYMELEAF (UI Engine)
# ===============================
# Disable cache during development so you can see HTML changes instantly.
# Change to 'true' when releasing the final .deb
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# ===============================
# 4. PIXELPATROL SETTINGS
# ===============================
# Headless mode: Java won't try to spawn a window icon in the dock
spring.main.web-application-type=servlet

# ... (Previous Network and DB config) ...

# ===============================
# 5. LOGGING CONFIGURATION
# ===============================
# Save the log file in the same folder as the database
logging.file.name=${user.home}/.pixelpatrol/pixelpatrol.log

# LOG ROTATION (Crucial for Desktop Apps)
# Prevents the log file from growing infinitely and eating the user's disk space.
# When the file hits 10MB, it zips it and starts a new one.
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.file-name-pattern=${user.home}/.pixelpatrol/pixelpatrol-%d{yyyy-MM-dd}.%i.log
logging.logback.rollingpolicy.max-history=7

# LOG LEVELS
# specific levels for your app vs libraries
logging.level.root=INFO
logging.level.com.pixelpatrol=DEBUG
logging.level.org.springframework.web=WARN


# ===============================
# 6. OFFLINE BROWSER CONFIG
# ===============================
# In DEV mode (IntelliJ), leave this empty (it uses your local cache).
# In PROD mode (Linux), we will override this via code logic.
pixelpatrol.custom-browser-path=